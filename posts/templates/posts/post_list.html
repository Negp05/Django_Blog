{% extends "base.html" %}
{% block title %}Posts · THE VORTEX BLOG{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h1 class="h3 m-0">Posts publicados</h1>
  {% if user.is_authenticated %}
    <a href="{% url 'posts:post_create' %}" class="btn btn-primary">Crear nuevo post</a>
  {% endif %}
</div>

{% if posts %}
  <div class="row g-4">
    {% for post in posts %}
      <div class="col-12 col-md-6 col-lg-4">
        <article class="card h-100 post-card shadow-sm border-0">
          <div class="card-body">
            <h2 class="h5">
              <a class="link-dark text-decoration-none" href="{% url 'posts:post_detail' post.slug %}">
                {{ post.titulo }}
              </a>
            </h2>
            <p class="text-secondary small mb-2">
              Por {{ post.autor }} · {{ post.creado|date:"d M Y" }}
            </p>
            <p class="text-secondary">{{ post.contenido|truncatewords:30 }}</p>
          </div>
          <div class="card-footer bg-white border-0">
            <a href="{% url 'posts:post_detail' post.slug %}" class="btn btn-sm btn-outline-primary">Leer más</a>
          </div>
        </article>
      </div>
    {% endfor %}
  </div>
{% else %}
  <div class="alert alert-secondary">Aún no hay posts publicados.</div>
{% endif %}
{% endblock %}
